<configure
    xmlns="http://namespaces.zope.org/zope"
    xmlns:meta="http://namespaces.zope.org/meta"
    xmlns:five="http://namespaces.zope.org/five">

  <!-- File generated by {{ debug.app }} at {{ debug.date }} -->
  <include package="Products.Five" />

  <meta:redefinePermission from="zope2.Public" to="zope.Public" />

{%- if context.zcml_locales_directory_location %}
  <!-- Load the local locales  -->
  <i18n:registerTranslations directory="{{ context.zcml_locales_directory_location }}" />
{%- endif %}

{%- if context.zcml_package_metas %}
  <!-- META -->
{%- for value in context.zcml_package_metas %}
  <include package="{{ value }}" file="meta.zcml" />
{%- endfor %}
{%- endif %}
  <five:loadProducts file="meta.zcml"/>

{%- if context.zcml_package_includes %}
  <!-- INCLUDES -->
{%- for value in context.zcml_package_includes %}
  <include package="{{ value }}" />
{%- endfor %}
{%- endif %}
  <five:loadProducts />

{%- if context.zcml_include_file_location %}
  <!-- Load the local configuration:  -->
  <include file="{{ context.zcml_include_file_location }}" />
{%- endif %}

{%- if context.cors_enabled %}
  <!-- Load the CORS configuration:  -->
  <include file="cors.zcml" />
{%- endif %}

{%- if context.zcml_package_overrides %}
  <!-- OVERRIDES -->
{%- for value in context.zcml_package_overrides %}
  <includeOverrides package="{{ value }}" file="overrides.zcml"/>
{%- endfor %}
{%- endif %}
  <five:loadProductsOverrides />

{%- if context.zcml_override_file_location %}
  <!-- Load the local overrides  -->
  <include file="{{ context.zcml_override_file_location }}" />
{%- endif %}

{%- if context.zcml_resources_directory_location %}
  <!-- RESOURCES -->
  <include package="plone.resource" file="meta.zcml"/>
  <plone:static directory="{{ context.zcml_resources_directory_location }}"/>
{%- endif %}

  <securityPolicy component="AccessControl.security.SecurityPolicy" />

</configure>
